language: python
python: '2.7'
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/credentials.json"
  global:
  - secure: MH8Qys2HN754+ZLJu6m2ajfxFKsIlKVMQ6SviKNKlQkemf7dEj83p4Wq5YxXtoEFM4IfDoP7QrUCUA+5bxlCpu3Gnjt/K0Vs+znVrb8qZG6RTdrtNRuPNOHTKB94vV2kpyD37F5RqFUA67jvq21BsmFnogcA81j015ixkBiSWi4mfb1YxrVyp97IwD+JJ6o+3uE9symMuGNeJ/plk+pjOBNQSaZHvYKwlb9amElq/DMZqu94rhfyTjHcSHOKyGykO/skkO8CHkzGPGyOi4hNnUkDKZijd8PJVUyGwvBQoVvKtqRoDlr7kCwUXj93ry58EqKCpQ39VmUzpilpmHnRuWnbstU8kJHrjcauhnkgb3WOYzC4BYZDfeAlEdYJXBTOz8ZzPLt6mmfixJM1rXo3CmaG1n/yiqP553/PMpUDw+vFEb25hJuZ1W+fh0LqRfs2sbr29u6MfP8gBMw5/R6llYdu7ULmn1BLqaDHG9r5pRipW6VwTowhZatylTVXP/HsBLem/T0E9R9NW7cUN0B7qlky7iAh82jGSTxiUp5EUoqLb9AYnrH6RKRXjL5idzvLPLQmDO5iyJAzOxY/pUzwsizOTRGNIY2W2xtYZuh9J9JSo0djon1Opi67NwuFBdYy1lD44p+ak1T267PNQmrpb7870CPdp7jLEJODPM6UDis=
  - secure: WWH0mVNVeA/PPO3zePRJ8jvqI1Oy+X9mwc4tG6y0lyUXuDEQzKSdSc+D3VNsU6FPCyh2tSoTAhb0Riv1qR5jXvarpZIBsz/unuyhl77CbHcujZTSiQozwLLhDEJuBZZkRoG0a8j2cs1m/+a+lpdTVHurjVbvVWLBfJPvU69Ib8dalEZu8pS6TjZX1Cc/zLYRYg6x3mg18cPLQ8QM6tE0MDCUGrrvmGgOPc/uYb0kxCPt5mv+sGXcg1+jetCVx8tvlHgSwv86gwhO2p6decPsdQEtXJJSf0R04OkOiR6B3hWZqnlPnsu7n7asPx3VIOI/aR1QyzRG765RWkEaS7cgUTCAdzxXzY1vKsL6EQ7t3qnvLlMZmhkTV+HL2DcZurmcz6v3eZ2R8rxQYw4jTtir6RURpElM0f8vX0ovUA+BtakXoYRZAc/1DiIIBfaO04bGoPjsRAFkPN5Hz4HrjHbY+5L6rm/CexdF/6FRhNRw0K8ZAmredckUjzGgLR9yqCSH44FAcnXHAIJsBtGFoLOZ5OHcio5GAMLSfHkWeYjHt6+laVuA4T9hSo8KtfdAthUr5Nzx1T//B4UZa+SdFH/jov58qL+I+P41pKfBoKw4ndxKfz7W89hkS5QcobEET0jVDS7iEs2FnXVznQu21VlGpJ5nMgh5S4XTPcJ9WvNdryk=
  - secure: OXSQueEhwlAFR7cFlPPqFltDOWXtSzWxJOySDGAnqR4skQKVEhQGzhVMeeIaVatRPjq1pu31ZgSnckKLB338fIAosobcRtI1axCD+r/WYU5OCzGrvJdCrdPw578w69bN8ar+vHG0AYxXzzZmHzdqQZNPCWtniIVZK4rrYVL8KzBIBhVoG1otZbBlE298Bxxy9K2V0xVKdH2k0r73nXL477Z5TkgzSBElOL8v2lz9jF7ZxEBBfU7KtWjsiAAXKYZDVRETE4x6Arj/PNywWGhiG/OnGBvW0k49XFW3m6j2re+hqiHkrcZQzDcfg/S9BKh6pEH51bhUZNfOMf06EQpb+ZyO4s12vZRKTHSJk7TdwUYBycirnUj1r0Mif1gIyl2Pn2Y7U9oGDsQwpARSfckpaXS5NGFQ2dFbC3lvd0syx5H9f30Ty/a3RxpNEwQwq0NVJGH50R6V/f62Rx4h/6XLLJfW2+ZvM1XxCa5G5WfvpVnsV9xlPGUlVrco6fpGKVcHzrzjdxDkNw6Bm+GE1k4HVx+0b5Zr23PrIR7iIQuJeXAGqtE5BTwTTQQdiOJ0qu+R+UlrXPVqcs3KlfcT+CacsfAxwo7ASs9R8kjCDvMAcPKNsP6FkqNJHN+BlTcQ/HKDomCsu+5WXdnlwwOKwzev+EAI+UfhwiWrwQYgS05MGQ0=
before_install:
- openssl aes-256-cbc -K $encrypted_87a34d4f0801_key -iv $encrypted_87a34d4f0801_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar xvf secrets.tar
- mv google_compute_engine /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine
install:
- pip install ansible==2.4.0 molecule apache-libcloud pycrypto
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
notifications:
  slack:
    secure: h0Z81Ytr2SNiiGIfVtCPiu3RMtTd1WIbi6dydaA+sRwZo5IyXBebe44EV/EFjWEVt8eEkFDVBbgCuZAntkAOWDqRQE4xLLKES2naH+lDMk3oeytS/pvTrdcKqjcQ+LVJBoHRPsgQT637pA7HwA0NjoaaVP1MLoF5nEmojV+WLc9PBD5mg9bX4lSutC4U4yW2cA2yb4Vtd1W69tAyBIpxndzNRgPm+qAkZMfi4+wcTrJY/mwGliqDQc17Bs6QvIpJp37oe8YVX/yYmcNHu1OJJe0TI2IsJDvDV6oul9VdWclUraL6PoY7gxAm7QumSyk8HyyttL3Tc7lCdtCRNSLpm3X0nIA17z7qj7mPbJdaTDmYHQWJ5mHHpeSkRxO2jFrp3A/qIHBwIkySWxSlRheXVxAGVhQZm4YU/CaE6ANnvvuxOhPcT1miSd1edB6SFBcKKv+93akZ7sHGTTb1U3DEu2x+341D0BzgXQJO3QZaP3P/mTOmWCrRMwmOlqDvO5D96EZfdSghcLvNC5fxe6EFM9BtnON0Lp/OSKsS1QU3GKOdBKWcEMo6I5lDAaSwL37aHPtwoPZNQ2h0ahR2yNiIrO0x28af57heUNp8kurCh5xM9L72dDjB1jbtAWZV/NKbqnixP8tzXUi+/GsHhejBRBRt1XvqdZegWq3hae62PP0=
